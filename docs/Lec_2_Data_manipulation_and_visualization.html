<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="copyright" content="Presentation link: https://goo.gl/fGi6Iv"/>
  <title>Data manipulation and visualization</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link href="site_libs/slidy-2/styles/slidy.css" rel="stylesheet" />
  <script src="site_libs/slidy-2/scripts/slidy.js"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Data manipulation and visualization</h1>
  <h1 class="subtitle">tidyverse: dplyr, tidyr, ggplot2</h1>
  <p class="author">

  </p>
  <p class="date">02.02.2017</p>
</div>
<div id="data-types" class="slide section level3">
<h1>1.1 Data Types</h1>
<ul>
<li>Vector</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">42</span>, <span class="dv">99</span>, <span class="dv">43</span>)</code></pre></div>
<pre><code>## [1] 42 99 43</code></pre>
<ul>
<li>Matrix, Array…</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">12</span>, <span class="dt">nrow=</span><span class="dv">3</span>,<span class="dt">ncol=</span><span class="dv">4</span>)</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12</code></pre>
<ul>
<li>List</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list</span>(
  <span class="dt">n_lectures =</span> <span class="dv">12</span>,
  <span class="dt">l_topics =</span> <span class="kw">c</span>(<span class="st">&quot;begining&quot;</span>, <span class="st">&quot;data manipulation&quot;</span>, <span class="st">&quot;descriptive stats&quot;</span>),
  <span class="dt">h_topics =</span> <span class="kw">c</span>(<span class="st">&quot;data manipulations&quot;</span>, <span class="st">&quot;descriptive stats&quot;</span>)
  )</code></pre></div>
<pre><code>## $n_lectures
## [1] 12
## 
## $l_topics
## [1] &quot;begining&quot;          &quot;data manipulation&quot; &quot;descriptive stats&quot;
## 
## $h_topics
## [1] &quot;data manipulations&quot; &quot;descriptive stats&quot;</code></pre>
<ul>
<li>Data Frame</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(
  <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;Olya&quot;</span>, <span class="st">&quot;Ilya&quot;</span>, <span class="st">&quot;Sasha&quot;</span>, <span class="st">&quot;George&quot;</span>),
  <span class="dt">lecturer =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>),
  <span class="dt">lecturer_experience =</span> <span class="kw">c</span>(<span class="dv">19</span>, <span class="dv">6</span>, <span class="dv">0</span>, <span class="dv">3</span>)
  )</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">names</th>
<th align="left">lecturer</th>
<th align="right">lecturer_experience</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Olya</td>
<td align="left">TRUE</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">Ilya</td>
<td align="left">TRUE</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">Sasha</td>
<td align="left">FALSE</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">George</td>
<td align="left">TRUE</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
</div>
<p><a href="http://www.statmethods.net/management/typeconversion.html">See Data Type Conversion page</a></p>
</div>
<div id="data-frame-exploration" class="slide section level3">
<h1>1.2 Data Frame exploration</h1>
<p>There are some embedded data frames (e. g. <em>mtcars</em>, <em>cars</em>, <em>iris</em>). How many rows and columns?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(iris) <span class="co"># returns the number of rows</span></code></pre></div>
<pre><code>## [1] 150</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(mtcars) <span class="co">#  returns the number of columns</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(cars) <span class="co"># returns the first 6 rows</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">speed</th>
<th align="right">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(cars, <span class="dv">4</span>) <span class="co"># returns the first 4 rows</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">speed</th>
<th align="right">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">22</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(cars) <span class="co"># returns the last 6 rows</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">speed</th>
<th align="right">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>45</td>
<td align="right">23</td>
<td align="right">54</td>
</tr>
<tr class="even">
<td>46</td>
<td align="right">24</td>
<td align="right">70</td>
</tr>
<tr class="odd">
<td>47</td>
<td align="right">24</td>
<td align="right">92</td>
</tr>
<tr class="even">
<td>48</td>
<td align="right">24</td>
<td align="right">93</td>
</tr>
<tr class="odd">
<td>49</td>
<td align="right">24</td>
<td align="right">120</td>
</tr>
<tr class="even">
<td>50</td>
<td align="right">25</td>
<td align="right">85</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(cars)  <span class="co"># produce some stats</span></code></pre></div>
<pre><code>##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(cars)  <span class="co"># shows the structure: variables, their type</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    50 obs. of  2 variables:
##  $ speed: num  4 4 7 7 8 9 10 10 10 11 ...
##  $ dist : num  2 10 4 22 16 10 18 26 34 17 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#View(cars)</span></code></pre></div>
</div>
<div id="data-frame-indexing" class="slide section level3">
<h1>1.3 Data Frame Indexing</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars$mpg <span class="co"># shows the mpg vector</span></code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2
## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4
## [29] 15.8 19.7 15.0 21.4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars[<span class="dv">3</span>,<span class="dv">7</span>] <span class="co"># shows the 3. row, 7. column</span></code></pre></div>
<pre><code>## [1] 18.61</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars[<span class="dv">3</span>,] <span class="co"># shows the 3. row</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.32</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars[,<span class="dv">7</span>] <span class="co"># shows the 7. column</span></code></pre></div>
<pre><code>##  [1] 16.46 17.02 18.61 19.44 17.02 20.22 15.84 20.00 22.90 18.30 18.90
## [12] 17.40 17.60 18.00 17.98 17.82 17.42 19.47 18.52 19.90 20.01 16.87
## [23] 17.30 15.41 17.05 18.90 16.70 16.90 14.50 15.50 14.60 18.60</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars[mtcars$mpg &lt;<span class="st"> </span><span class="dv">20</span>, ] <span class="co"># show all rows with the mpg value lower then 20</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360.0</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td>Valiant</td>
<td align="right">18.1</td>
<td align="right">6</td>
<td align="right">225.0</td>
<td align="right">105</td>
<td align="right">2.76</td>
<td align="right">3.460</td>
<td align="right">20.22</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td>Duster 360</td>
<td align="right">14.3</td>
<td align="right">8</td>
<td align="right">360.0</td>
<td align="right">245</td>
<td align="right">3.21</td>
<td align="right">3.570</td>
<td align="right">15.84</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td>Merc 280</td>
<td align="right">19.2</td>
<td align="right">6</td>
<td align="right">167.6</td>
<td align="right">123</td>
<td align="right">3.92</td>
<td align="right">3.440</td>
<td align="right">18.30</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td>Merc 280C</td>
<td align="right">17.8</td>
<td align="right">6</td>
<td align="right">167.6</td>
<td align="right">123</td>
<td align="right">3.92</td>
<td align="right">3.440</td>
<td align="right">18.90</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td>Merc 450SE</td>
<td align="right">16.4</td>
<td align="right">8</td>
<td align="right">275.8</td>
<td align="right">180</td>
<td align="right">3.07</td>
<td align="right">4.070</td>
<td align="right">17.40</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td>Merc 450SL</td>
<td align="right">17.3</td>
<td align="right">8</td>
<td align="right">275.8</td>
<td align="right">180</td>
<td align="right">3.07</td>
<td align="right">3.730</td>
<td align="right">17.60</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td>Merc 450SLC</td>
<td align="right">15.2</td>
<td align="right">8</td>
<td align="right">275.8</td>
<td align="right">180</td>
<td align="right">3.07</td>
<td align="right">3.780</td>
<td align="right">18.00</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td>Cadillac Fleetwood</td>
<td align="right">10.4</td>
<td align="right">8</td>
<td align="right">472.0</td>
<td align="right">205</td>
<td align="right">2.93</td>
<td align="right">5.250</td>
<td align="right">17.98</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td>Lincoln Continental</td>
<td align="right">10.4</td>
<td align="right">8</td>
<td align="right">460.0</td>
<td align="right">215</td>
<td align="right">3.00</td>
<td align="right">5.424</td>
<td align="right">17.82</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td>Chrysler Imperial</td>
<td align="right">14.7</td>
<td align="right">8</td>
<td align="right">440.0</td>
<td align="right">230</td>
<td align="right">3.23</td>
<td align="right">5.345</td>
<td align="right">17.42</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td>Dodge Challenger</td>
<td align="right">15.5</td>
<td align="right">8</td>
<td align="right">318.0</td>
<td align="right">150</td>
<td align="right">2.76</td>
<td align="right">3.520</td>
<td align="right">16.87</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td>AMC Javelin</td>
<td align="right">15.2</td>
<td align="right">8</td>
<td align="right">304.0</td>
<td align="right">150</td>
<td align="right">3.15</td>
<td align="right">3.435</td>
<td align="right">17.30</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td>Camaro Z28</td>
<td align="right">13.3</td>
<td align="right">8</td>
<td align="right">350.0</td>
<td align="right">245</td>
<td align="right">3.73</td>
<td align="right">3.840</td>
<td align="right">15.41</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td>Pontiac Firebird</td>
<td align="right">19.2</td>
<td align="right">8</td>
<td align="right">400.0</td>
<td align="right">175</td>
<td align="right">3.08</td>
<td align="right">3.845</td>
<td align="right">17.05</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td>Ford Pantera L</td>
<td align="right">15.8</td>
<td align="right">8</td>
<td align="right">351.0</td>
<td align="right">264</td>
<td align="right">4.22</td>
<td align="right">3.170</td>
<td align="right">14.50</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td>Ferrari Dino</td>
<td align="right">19.7</td>
<td align="right">6</td>
<td align="right">145.0</td>
<td align="right">175</td>
<td align="right">3.62</td>
<td align="right">2.770</td>
<td align="right">15.50</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td>Maserati Bora</td>
<td align="right">15.0</td>
<td align="right">8</td>
<td align="right">301.0</td>
<td align="right">335</td>
<td align="right">3.54</td>
<td align="right">3.570</td>
<td align="right">14.60</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">8</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ?mtcars</span></code></pre></div>
</div>
<div id="tidyverse" class="slide section level3">
<h1>2. Tidyverse</h1>
<p>The <a href="https://blog.rstudio.org/2016/09/15/tidyverse-1-0-0/"><em>tidyverse</em></a> is a set of packages:</p>
<ul>
<li><em>dplyr</em>, for data manipulation</li>
<li><em>ggplot2</em>, for data visualisation</li>
<li><em>tidyr</em>, for data tidying</li>
<li><em>readr</em>, for data import</li>
<li><em>purrr</em>, for functional programming</li>
<li><em>tibble</em>, for tibbles, a modern re-imagining of data frames</li>
</ul>
<p>Install <em>tidyverse</em> package using <em>install.packages(“tidyverse”)</em></p>
<p>Load tidyverse package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)</code></pre></div>
<p>In this presentation the folowing version of <em>tideverse</em>, <em>dplyr</em> and <em>ggplot2</em> are used:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">packageVersion</span>(<span class="st">&quot;tidyverse&quot;</span>)</code></pre></div>
<pre><code>## [1] &#39;1.1.1&#39;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">packageVersion</span>(<span class="st">&quot;dplyr&quot;</span>)</code></pre></div>
<pre><code>## [1] &#39;0.5.0&#39;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">packageVersion</span>(<span class="st">&quot;ggplot2&quot;</span>)</code></pre></div>
<pre><code>## [1] &#39;2.2.1&#39;</code></pre>
</div>
<div id="join-dataframe-by-row-or-column" class="slide section level3">
<h1>3.1 Join dataframe by row or column</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_data_1 &lt;-<span class="st"> </span>mtcars[<span class="dv">5</span>:<span class="dv">20</span>,] <span class="co"># select a subset of mtcars</span>
my_data_2 &lt;-<span class="st"> </span>mtcars[<span class="dv">17</span>:<span class="dv">29</span>,] <span class="co"># select a subset of mtcars</span>
combine_rows &lt;-<span class="st"> </span><span class="kw">rbind.data.frame</span>(my_data_1, my_data_2)
<span class="kw">nrow</span>(my_data_1); <span class="kw">nrow</span>(my_data_2); <span class="kw">nrow</span>(combine_rows)</code></pre></div>
<pre><code>## [1] 16</code></pre>
<pre><code>## [1] 13</code></pre>
<pre><code>## [1] 29</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_data_3 &lt;-<span class="st"> </span>mtcars[,<span class="dv">3</span>:<span class="dv">7</span>] <span class="co"># select a subset of mtcars</span>
my_data_4 &lt;-<span class="st"> </span>mtcars[,<span class="dv">6</span>:<span class="dv">11</span>] <span class="co"># select a subset of mtcars</span>
combine_cols &lt;-<span class="st"> </span><span class="kw">cbind.data.frame</span>(my_data_3, my_data_4)
<span class="kw">ncol</span>(my_data_3); <span class="kw">ncol</span>(my_data_4); <span class="kw">ncol</span>(combine_cols)</code></pre></div>
<pre><code>## [1] 5</code></pre>
<pre><code>## [1] 6</code></pre>
<pre><code>## [1] 11</code></pre>
</div>
<div id="joins-dplyr" class="slide section level3">
<h1>3.2 Joins (dplyr)</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">languages &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">languages =</span> <span class="kw">c</span>(<span class="st">&quot;Selkup&quot;</span>, <span class="st">&quot;French&quot;</span>, <span class="st">&quot;Chukchi&quot;</span>, <span class="st">&quot;Kashubian&quot;</span>),
  <span class="dt">countries =</span> <span class="kw">c</span>(<span class="st">&quot;Russia&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Russia&quot;</span>, <span class="st">&quot;Poland&quot;</span>),
  <span class="dt">iso =</span> <span class="kw">c</span>(<span class="st">&quot;sel&quot;</span>, <span class="st">&quot;fra&quot;</span>, <span class="st">&quot;ckt&quot;</span>, <span class="st">&quot;pol&quot;</span>)
  )
languages</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">languages</th>
<th align="left">countries</th>
<th align="left">iso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Selkup</td>
<td align="left">Russia</td>
<td align="left">sel</td>
</tr>
<tr class="even">
<td align="left">French</td>
<td align="left">France</td>
<td align="left">fra</td>
</tr>
<tr class="odd">
<td align="left">Chukchi</td>
<td align="left">Russia</td>
<td align="left">ckt</td>
</tr>
<tr class="even">
<td align="left">Kashubian</td>
<td align="left">Poland</td>
<td align="left">pol</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">country_population &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">countries =</span> <span class="kw">c</span>(<span class="st">&quot;Russia&quot;</span>, <span class="st">&quot;Poland&quot;</span>, <span class="st">&quot;Finland&quot;</span>),
  <span class="dt">population_mln =</span> <span class="kw">c</span>(<span class="dv">143</span>, <span class="dv">38</span>, <span class="dv">5</span>))
country_population</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">countries</th>
<th align="right">population_mln</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Russia</td>
<td align="right">143</td>
</tr>
<tr class="even">
<td align="left">Poland</td>
<td align="right">38</td>
</tr>
<tr class="odd">
<td align="left">Finland</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">inner_join</span>(languages, country_population)</code></pre></div>
<pre><code>## Joining, by = &quot;countries&quot;</code></pre>
<pre><code>## Warning in inner_join_impl(x, y, by$x, by$y, suffix$x, suffix$y): joining
## factors with different levels, coercing to character vector</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">languages</th>
<th align="left">countries</th>
<th align="left">iso</th>
<th align="right">population_mln</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Selkup</td>
<td align="left">Russia</td>
<td align="left">sel</td>
<td align="right">143</td>
</tr>
<tr class="even">
<td align="left">Chukchi</td>
<td align="left">Russia</td>
<td align="left">ckt</td>
<td align="right">143</td>
</tr>
<tr class="odd">
<td align="left">Kashubian</td>
<td align="left">Poland</td>
<td align="left">pol</td>
<td align="right">38</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">left_join</span>(languages, country_population)</code></pre></div>
<pre><code>## Joining, by = &quot;countries&quot;</code></pre>
<pre><code>## Warning in left_join_impl(x, y, by$x, by$y, suffix$x, suffix$y): joining
## factors with different levels, coercing to character vector</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">languages</th>
<th align="left">countries</th>
<th align="left">iso</th>
<th align="right">population_mln</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Selkup</td>
<td align="left">Russia</td>
<td align="left">sel</td>
<td align="right">143</td>
</tr>
<tr class="even">
<td align="left">French</td>
<td align="left">France</td>
<td align="left">fra</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Chukchi</td>
<td align="left">Russia</td>
<td align="left">ckt</td>
<td align="right">143</td>
</tr>
<tr class="even">
<td align="left">Kashubian</td>
<td align="left">Poland</td>
<td align="left">pol</td>
<td align="right">38</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">right_join</span>(languages, country_population)</code></pre></div>
<pre><code>## Joining, by = &quot;countries&quot;</code></pre>
<pre><code>## Warning in right_join_impl(x, y, by$x, by$y, suffix$x, suffix$y): joining
## factors with different levels, coercing to character vector</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">languages</th>
<th align="left">countries</th>
<th align="left">iso</th>
<th align="right">population_mln</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Selkup</td>
<td align="left">Russia</td>
<td align="left">sel</td>
<td align="right">143</td>
</tr>
<tr class="even">
<td align="left">Chukchi</td>
<td align="left">Russia</td>
<td align="left">ckt</td>
<td align="right">143</td>
</tr>
<tr class="odd">
<td align="left">Kashubian</td>
<td align="left">Poland</td>
<td align="left">pol</td>
<td align="right">38</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="left">Finland</td>
<td align="left">NA</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anti_join</span>(languages, country_population)</code></pre></div>
<pre><code>## Joining, by = &quot;countries&quot;</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">languages</th>
<th align="left">countries</th>
<th align="left">iso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">French</td>
<td align="left">France</td>
<td align="left">fra</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anti_join</span>(country_population, languages)</code></pre></div>
<pre><code>## Joining, by = &quot;countries&quot;</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">countries</th>
<th align="right">population_mln</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Finland</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">full_join</span>(country_population, languages)</code></pre></div>
<pre><code>## Joining, by = &quot;countries&quot;</code></pre>
<pre><code>## Warning in full_join_impl(x, y, by$x, by$y, suffix$x, suffix$y): joining
## factors with different levels, coercing to character vector</code></pre>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">countries</th>
<th align="right">population_mln</th>
<th align="left">languages</th>
<th align="left">iso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Russia</td>
<td align="right">143</td>
<td align="left">Selkup</td>
<td align="left">sel</td>
</tr>
<tr class="even">
<td align="left">Russia</td>
<td align="right">143</td>
<td align="left">Chukchi</td>
<td align="left">ckt</td>
</tr>
<tr class="odd">
<td align="left">Poland</td>
<td align="right">38</td>
<td align="left">Kashubian</td>
<td align="left">pol</td>
</tr>
<tr class="even">
<td align="left">Finland</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="right">NA</td>
<td align="left">French</td>
<td align="left">fra</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="data" class="slide section level3">
<h1>3.3 Data</h1>
<p>The majority of examples in that presentation are based on <a href="http://goo.gl/MKfSc6">Chi-kuk 2007</a>. Experiment consisted of a perception and judgment test aimed at measuring the correlation between acoustic cues and perceived sexual orientation. Naïve Cantonese speakers were asked to listen to the Cantonese speech samples collected in Experiment and judge whether the speakers were gay or heterosexual. There are 14 speakers and following parameters:</p>
<ul>
<li>[s] duration (<em>s.duration.ms</em>)</li>
<li>vowel duration (<em>vowel.duration.ms</em>)</li>
<li>fundamental frequencies mean (F0) (<em>average.f0.Hz</em>)</li>
<li>fundamental frequencies range (<em>f0.range.Hz</em>)</li>
<li>percentage of homosexual impression (<em>perceived.as.homo</em>)</li>
<li>percentage of heterosexal impression (<em>perceived.as.hetero</em>)</li>
<li>speakers orientation (<em>orientation</em>)</li>
<li>speakers age (<em>age</em>)</li>
</ul>
<p>Download data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;http://goo.gl/Zjr9aF&quot;</span>)
homo</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
<td align="right">114.0</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="left">H</td>
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
<td align="right">55.7</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">I</td>
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
<td align="right">96.4</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
<td align="right">57.8</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
<td align="right">100.5</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="data-frame-tibble-dplyr" class="slide section level3">
<h1>3.4 Data Frame → Tibble (dplyr)</h1>
<p>Tibble is a useful modification of Data Frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
homo &lt;-<span class="st"> </span><span class="kw">tbl_df</span>(homo)
homo</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
<td align="right">114.0</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="left">H</td>
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
<td align="right">55.7</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">I</td>
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
<td align="right">96.4</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
<td align="right">57.8</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
<td align="right">100.5</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="filter-dplyr" class="slide section level3">
<h1>3.5 Filter (dplyr)</h1>
<p>How many speakers are older than 28?</p>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo[homo$age &gt;<span class="st"> </span><span class="dv">28</span>,]</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="even">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">filter</span>(age &gt;<span class="st"> </span><span class="dv">28</span>, s.duration.ms &lt;<span class="st"> </span><span class="dv">60</span>)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
<p>%&gt;% is called <em>pipe</em>. Pipe is a technique for passing result of the work of one function to another.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(<span class="kw">sqrt</span>(<span class="kw">abs</span>(<span class="kw">sin</span>(<span class="dv">1</span>:<span class="dv">22</span>))), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>##  [1] 0.9999951 0.9952926 0.9946649 0.9805088 0.9792468 0.9554817 0.9535709
##  [8] 0.9173173 0.9146888 0.8699440 0.8665952 0.8105471 0.8064043 0.7375779
## [15] 0.7325114 0.6482029 0.6419646 0.5365662 0.5285977 0.3871398 0.3756594
## [22] 0.0940814</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>:<span class="dv">22</span> %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">sin</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">abs</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">sqrt</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">sort</span>(., <span class="dt">decreasing =</span> <span class="ot">TRUE</span>) <span class="co"># dot here shows where should argument be</span></code></pre></div>
<pre><code>##  [1] 0.9999951 0.9952926 0.9946649 0.9805088 0.9792468 0.9554817 0.9535709
##  [8] 0.9173173 0.9146888 0.8699440 0.8665952 0.8105471 0.8064043 0.7375779
## [15] 0.7325114 0.6482029 0.6419646 0.5365662 0.5285977 0.3871398 0.3756594
## [22] 0.0940814</code></pre>
<p>Pipes in <em>tidyverse</em> package came from <em>magritr</em> package. Sometimes it works incorrectly with not <em>tidyverse</em> functions.</p>
</div>
<div id="slice-dplyr" class="slide section level3">
<h1>3.6 Slice (dplyr)</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo[<span class="dv">3</span>:<span class="dv">7</span>, ]</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">slice</span>(<span class="dv">3</span>:<span class="dv">7</span>)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="select-dplyr" class="slide section level3">
<h1>3.7 Select (dplyr)</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo[, <span class="dv">8</span>:<span class="dv">10</span>]</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">select</span>(<span class="dv">8</span>:<span class="dv">10</span>)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>dplyr</em> only</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">select</span>(speaker:average.f0.Hz)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
</tr>
<tr class="even">
<td align="left">H</td>
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
</tr>
<tr class="odd">
<td align="left">I</td>
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
</tr>
</tbody>
</table>
</div>
<p>It is possible to use <code>select()</code> function to remove columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">select</span>(-<span class="kw">c</span>(speaker, perceived.as.hetero, perceived.as.homo, perceived.as.homo.percent))</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
<td align="right">114.0</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
<td align="right">55.7</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
<td align="right">96.4</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
<td align="right">57.8</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
<td align="right">100.5</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># When you want to remove one column you can write it without </span>
<span class="co"># c() function, e. g. -speaker</span></code></pre></div>
<p>It is possible to reorder columns using <code>select()</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">select</span>(speaker, age, s.duration.ms)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">age</th>
<th align="right">s.duration.ms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">30</td>
<td align="right">61.40</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">19</td>
<td align="right">63.90</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">29</td>
<td align="right">55.08</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">36</td>
<td align="right">78.11</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">27</td>
<td align="right">64.71</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">33</td>
<td align="right">67.00</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">28</td>
<td align="right">65.39</td>
</tr>
<tr class="even">
<td align="left">H</td>
<td align="right">22</td>
<td align="right">62.46</td>
</tr>
<tr class="odd">
<td align="left">I</td>
<td align="right">22</td>
<td align="right">60.45</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">40</td>
<td align="right">59.59</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">30</td>
<td align="right">62.94</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">25</td>
<td align="right">53.31</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="right">20</td>
<td align="right">45.13</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">29</td>
<td align="right">57.67</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="arrange-dplyr" class="slide section level3">
<h1>3.8 arrange (dplyr)</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo[<span class="kw">order</span>(homo$orientation, homo$age), ]</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">B</td>
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
<td align="right">114.0</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
<td align="right">100.5</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">H</td>
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
<td align="right">55.7</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
<td align="right">57.8</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">I</td>
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
<td align="right">96.4</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(orientation, <span class="kw">desc</span>(age))</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
<td align="right">57.8</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">H</td>
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
<td align="right">55.7</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
<td align="right">100.5</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">B</td>
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
<td align="right">114.0</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">I</td>
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
<td align="right">96.4</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="distinct" class="slide section level3">
<h1>3.9 distinct</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unique</span>(homo$orientation)</code></pre></div>
<pre><code>## [1] hetero homo  
## Levels: hetero homo</code></pre>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">distinct</span>(orientation, age &gt;<span class="st"> </span><span class="dv">20</span>)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">orientation</th>
<th align="left">age &gt; 20</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hetero</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">hetero</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unique</span>(homo[<span class="kw">c</span>(<span class="st">&quot;orientation&quot;</span>, <span class="st">&quot;perceived.as.homo&quot;</span>)])</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">orientation</th>
<th align="right">perceived.as.homo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">21</td>
</tr>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">hetero</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">distinct</span>(orientation, perceived.as.homo)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">orientation</th>
<th align="right">perceived.as.homo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">hetero</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">homo</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">21</td>
</tr>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">hetero</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="mutate-dplyr" class="slide section level3">
<h1>3.10 mutate (dplyr)</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo$f0.min &lt;-<span class="st"> </span>homo$average.f0.Hz -<span class="st"> </span>homo$f0.range.Hz/<span class="dv">2</span>
homo$f0.min</code></pre></div>
<pre><code>##  [1]  93.26  43.29  63.30  97.21 112.06 129.79  69.86  77.41  61.66  68.05
## [11]  75.68 117.30 105.09 102.78</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo$f0.max &lt;-<span class="st"> </span>homo$average.f0.Hz +<span class="st"> </span>homo$f0.range.Hz/<span class="dv">2</span>
homo$f0.max</code></pre></div>
<pre><code>##  [1] 145.76 157.29 166.50 156.01 149.46 171.79 188.06 133.11 158.06 179.75
## [11] 163.28 175.10 205.59 140.18</code></pre>
<ul>
<li><em>dplyr</em></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">mutate</span>( <span class="dt">f0.mn =</span> average.f0.Hz -<span class="st"> </span>f0.range.Hz/<span class="dv">2</span>,
          <span class="dt">f0.mx =</span> (average.f0.Hz +<span class="st"> </span>f0.range.Hz/<span class="dv">2</span>)) -&gt;<span class="st"> </span>
<span class="st">  </span>homo
homo  </code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">s.duration.ms</th>
<th align="right">vowel.duration.ms</th>
<th align="right">average.f0.Hz</th>
<th align="right">f0.range.Hz</th>
<th align="right">perceived.as.homo</th>
<th align="right">perceived.as.hetero</th>
<th align="right">perceived.as.homo.percent</th>
<th align="left">orientation</th>
<th align="right">age</th>
<th align="right">f0.min</th>
<th align="right">f0.max</th>
<th align="right">f0.mn</th>
<th align="right">f0.mx</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">61.40</td>
<td align="right">112.60</td>
<td align="right">119.51</td>
<td align="right">52.5</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">0.28</td>
<td align="left">hetero</td>
<td align="right">30</td>
<td align="right">93.26</td>
<td align="right">145.76</td>
<td align="right">93.26</td>
<td align="right">145.76</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">63.90</td>
<td align="right">126.49</td>
<td align="right">100.29</td>
<td align="right">114.0</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">19</td>
<td align="right">43.29</td>
<td align="right">157.29</td>
<td align="right">43.29</td>
<td align="right">157.29</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">55.08</td>
<td align="right">126.81</td>
<td align="right">114.90</td>
<td align="right">103.2</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">homo</td>
<td align="right">29</td>
<td align="right">63.30</td>
<td align="right">166.50</td>
<td align="right">63.30</td>
<td align="right">166.50</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">78.11</td>
<td align="right">119.17</td>
<td align="right">126.61</td>
<td align="right">58.8</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">0.60</td>
<td align="left">homo</td>
<td align="right">36</td>
<td align="right">97.21</td>
<td align="right">156.01</td>
<td align="right">97.21</td>
<td align="right">156.01</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">64.71</td>
<td align="right">93.68</td>
<td align="right">130.76</td>
<td align="right">37.4</td>
<td align="right">10</td>
<td align="right">15</td>
<td align="right">0.40</td>
<td align="left">homo</td>
<td align="right">27</td>
<td align="right">112.06</td>
<td align="right">149.46</td>
<td align="right">112.06</td>
<td align="right">149.46</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">67.00</td>
<td align="right">127.87</td>
<td align="right">150.79</td>
<td align="right">42.0</td>
<td align="right">17</td>
<td align="right">8</td>
<td align="right">0.68</td>
<td align="left">homo</td>
<td align="right">33</td>
<td align="right">129.79</td>
<td align="right">171.79</td>
<td align="right">129.79</td>
<td align="right">171.79</td>
</tr>
<tr class="odd">
<td align="left">G</td>
<td align="right">65.39</td>
<td align="right">147.52</td>
<td align="right">128.96</td>
<td align="right">118.2</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">hetero</td>
<td align="right">28</td>
<td align="right">69.86</td>
<td align="right">188.06</td>
<td align="right">69.86</td>
<td align="right">188.06</td>
</tr>
<tr class="even">
<td align="left">H</td>
<td align="right">62.46</td>
<td align="right">120.13</td>
<td align="right">105.26</td>
<td align="right">55.7</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">hetero</td>
<td align="right">22</td>
<td align="right">77.41</td>
<td align="right">133.11</td>
<td align="right">77.41</td>
<td align="right">133.11</td>
</tr>
<tr class="odd">
<td align="left">I</td>
<td align="right">60.45</td>
<td align="right">140.44</td>
<td align="right">109.86</td>
<td align="right">96.4</td>
<td align="right">20</td>
<td align="right">5</td>
<td align="right">0.80</td>
<td align="left">homo</td>
<td align="right">22</td>
<td align="right">61.66</td>
<td align="right">158.06</td>
<td align="right">61.66</td>
<td align="right">158.06</td>
</tr>
<tr class="even">
<td align="left">J</td>
<td align="right">59.59</td>
<td align="right">121.01</td>
<td align="right">123.90</td>
<td align="right">111.7</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">homo</td>
<td align="right">40</td>
<td align="right">68.05</td>
<td align="right">179.75</td>
<td align="right">68.05</td>
<td align="right">179.75</td>
</tr>
<tr class="odd">
<td align="left">K</td>
<td align="right">62.94</td>
<td align="right">137.37</td>
<td align="right">119.48</td>
<td align="right">87.6</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0.84</td>
<td align="left">homo</td>
<td align="right">30</td>
<td align="right">75.68</td>
<td align="right">163.28</td>
<td align="right">75.68</td>
<td align="right">163.28</td>
</tr>
<tr class="even">
<td align="left">L</td>
<td align="right">53.31</td>
<td align="right">112.05</td>
<td align="right">146.20</td>
<td align="right">57.8</td>
<td align="right">8</td>
<td align="right">17</td>
<td align="right">0.32</td>
<td align="left">hetero</td>
<td align="right">25</td>
<td align="right">117.30</td>
<td align="right">175.10</td>
<td align="right">117.30</td>
<td align="right">175.10</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="right">45.13</td>
<td align="right">133.74</td>
<td align="right">155.34</td>
<td align="right">100.5</td>
<td align="right">9</td>
<td align="right">16</td>
<td align="right">0.36</td>
<td align="left">hetero</td>
<td align="right">20</td>
<td align="right">105.09</td>
<td align="right">205.59</td>
<td align="right">105.09</td>
<td align="right">205.59</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="right">57.67</td>
<td align="right">118.02</td>
<td align="right">121.48</td>
<td align="right">37.4</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">0.16</td>
<td align="left">hetero</td>
<td align="right">29</td>
<td align="right">102.78</td>
<td align="right">140.18</td>
<td align="right">102.78</td>
<td align="right">140.18</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="group_by-and-summarise-dplyr" class="slide section level3">
<h1>3.11 group_by and summarise (dplyr)</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="kw">min</span>(age), <span class="kw">mean</span>(s.duration.ms))</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">min(age)</th>
<th align="right">mean(s.duration.ms)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">19</td>
<td align="right">61.22429</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(orientation) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">my_mean =</span> <span class="kw">mean</span>(s.duration.ms))</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">orientation</th>
<th align="right">my_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">58.46571</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">63.98286</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(orientation) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="kw">mean</span>(s.duration.ms))</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">orientation</th>
<th align="right">mean(s.duration.ms)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">58.46571</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">63.98286</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(orientation) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_by_orientation =</span> <span class="kw">mean</span>(s.duration.ms))</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">orientation</th>
<th align="right">mean_by_orientation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">hetero</td>
<td align="right">58.46571</td>
</tr>
<tr class="even">
<td align="left">homo</td>
<td align="right">63.98286</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="tidyr-package" class="slide section level3">
<h1>4.1. tidyr package</h1>
<ul>
<li>Short format</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.short &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
                   <span class="dt">consonant =</span> <span class="kw">c</span>(<span class="st">&quot;stops&quot;</span>, <span class="st">&quot;fricatives&quot;</span>, <span class="st">&quot;affricates&quot;</span>, <span class="st">&quot;nasals&quot;</span>),
                   <span class="dt">initial =</span> <span class="kw">c</span>(<span class="dv">123</span>, <span class="dv">87</span>, <span class="dv">73</span>, <span class="dv">7</span>),
                   <span class="dt">intervocal =</span> <span class="kw">c</span>(<span class="dv">57</span>, <span class="dv">77</span>, <span class="dv">82</span>, <span class="dv">78</span>),
                   <span class="dt">final =</span> <span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">69</span>, <span class="dv">12</span>, <span class="dv">104</span>))
df.short</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">consonant</th>
<th align="right">initial</th>
<th align="right">intervocal</th>
<th align="right">final</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">stops</td>
<td align="right">123</td>
<td align="right">57</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="right">87</td>
<td align="right">77</td>
<td align="right">69</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="right">73</td>
<td align="right">82</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="right">7</td>
<td align="right">78</td>
<td align="right">104</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Long format
<div class="kable-table">
</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">consonant</th>
<th align="left">position</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">stops</td>
<td align="left">initial</td>
<td align="right">123</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="left">initial</td>
<td align="right">87</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="left">initial</td>
<td align="right">73</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="left">initial</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">stops</td>
<td align="left">intervocal</td>
<td align="right">57</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="left">intervocal</td>
<td align="right">77</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="left">intervocal</td>
<td align="right">82</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="left">intervocal</td>
<td align="right">78</td>
</tr>
<tr class="odd">
<td align="left">stops</td>
<td align="left">final</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="left">final</td>
<td align="right">69</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="left">final</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="left">final</td>
<td align="right">104</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="short-format-long-format-gather-tidyr" class="slide section level3">
<h1>4.2 Short format → Long format: gather (tidyr)</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.short &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
                   <span class="dt">consonant =</span> <span class="kw">c</span>(<span class="st">&quot;stops&quot;</span>, <span class="st">&quot;fricatives&quot;</span>, <span class="st">&quot;affricates&quot;</span>, <span class="st">&quot;nasals&quot;</span>),
                   <span class="dt">initial =</span> <span class="kw">c</span>(<span class="dv">123</span>, <span class="dv">87</span>, <span class="dv">73</span>, <span class="dv">7</span>),
                   <span class="dt">intervocal =</span> <span class="kw">c</span>(<span class="dv">57</span>, <span class="dv">77</span>, <span class="dv">82</span>, <span class="dv">78</span>),
                   <span class="dt">final =</span> <span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">69</span>, <span class="dv">12</span>, <span class="dv">104</span>))
df.short</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">consonant</th>
<th align="right">initial</th>
<th align="right">intervocal</th>
<th align="right">final</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">stops</td>
<td align="right">123</td>
<td align="right">57</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="right">87</td>
<td align="right">77</td>
<td align="right">69</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="right">73</td>
<td align="right">82</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="right">7</td>
<td align="right">78</td>
<td align="right">104</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.short %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(position, number, initial:final) -&gt;
<span class="st">  </span>df.long
df.long</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">consonant</th>
<th align="left">position</th>
<th align="right">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">stops</td>
<td align="left">initial</td>
<td align="right">123</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="left">initial</td>
<td align="right">87</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="left">initial</td>
<td align="right">73</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="left">initial</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">stops</td>
<td align="left">intervocal</td>
<td align="right">57</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="left">intervocal</td>
<td align="right">77</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="left">intervocal</td>
<td align="right">82</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="left">intervocal</td>
<td align="right">78</td>
</tr>
<tr class="odd">
<td align="left">stops</td>
<td align="left">final</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="left">final</td>
<td align="right">69</td>
</tr>
<tr class="odd">
<td align="left">affricates</td>
<td align="left">final</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">nasals</td>
<td align="left">final</td>
<td align="right">104</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="long-format-short-format-spread-tidyr" class="slide section level3">
<h1>4.2 Long format → Short format: spread (tidyr)</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df.long %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(position, number) -&gt;
<span class="st">  </span>df.short
df.short</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">consonant</th>
<th align="right">final</th>
<th align="right">initial</th>
<th align="right">intervocal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">affricates</td>
<td align="right">12</td>
<td align="right">73</td>
<td align="right">82</td>
</tr>
<tr class="even">
<td align="left">fricatives</td>
<td align="right">69</td>
<td align="right">87</td>
<td align="right">77</td>
</tr>
<tr class="odd">
<td align="left">nasals</td>
<td align="right">104</td>
<td align="right">7</td>
<td align="right">78</td>
</tr>
<tr class="even">
<td align="left">stops</td>
<td align="right">30</td>
<td align="right">123</td>
<td align="right">57</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="anscombes-quartet" class="slide section level3">
<h1>5.1 Anscombe’s quartet</h1>
<p>In Anscombe, F. J. (1973). “Graphs in Statistical Analysis” was presented the next sets of data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">quartet &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://goo.gl/KuuzYy&quot;</span>)
quartet</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">x</th>
<th align="right">y</th>
<th align="right">dataset</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">10</td>
<td align="right">8.04</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">6.95</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">7.58</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">8.81</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">8.33</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">9.96</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">7.24</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">4.26</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="right">10.84</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">4.82</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">5.68</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">9.14</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">8.14</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">13</td>
<td align="right">8.74</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">8.77</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">11</td>
<td align="right">9.26</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">14</td>
<td align="right">8.10</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">6.13</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">3.10</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">9.13</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">7.26</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">4.74</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">7.46</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">6.77</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">12.74</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">7.11</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">7.81</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">8.84</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">6.08</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">5.39</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="right">8.15</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">6.42</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">5.73</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">6.58</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">5.76</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">7.71</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">8.84</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">8.47</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">7.04</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">5.25</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">12.50</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">5.56</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">7.91</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">6.89</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">quartet %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(dataset) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_X =</span> <span class="kw">mean</span>(x),
            <span class="dt">mean_Y =</span> <span class="kw">mean</span>(y),
            <span class="dt">sd_X =</span> <span class="kw">sd</span>(x),
            <span class="dt">sd_Y =</span> <span class="kw">sd</span>(y),
            <span class="dt">cor =</span> <span class="kw">cor</span>(x, y),
            <span class="dt">n_obs =</span> <span class="kw">n</span>()) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(-dataset) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">round</span>(., <span class="dv">2</span>)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">mean_X</th>
<th align="right">mean_Y</th>
<th align="right">sd_X</th>
<th align="right">sd_Y</th>
<th align="right">cor</th>
<th align="right">n_obs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">9</td>
<td align="right">7.5</td>
<td align="right">3.32</td>
<td align="right">2.03</td>
<td align="right">0.82</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">7.5</td>
<td align="right">3.32</td>
<td align="right">2.03</td>
<td align="right">0.82</td>
<td align="right">11</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">7.5</td>
<td align="right">3.32</td>
<td align="right">2.03</td>
<td align="right">0.82</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">7.5</td>
<td align="right">3.32</td>
<td align="right">2.03</td>
<td align="right">0.82</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
</div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-43-1.png" width="768" /></p>
</div>
<div id="datasaurus" class="slide section level3">
<h1>5.2 Datasaurus</h1>
<p>In <a href="https://www.autodeskresearch.com/sites/default/files/SameStats-DifferentGraphs.pdf">Matejka and Fitzmaurice (2017) “Same Stats, Different Graphs”</a> was presented the next sets of data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">datasaurus &lt;-<span class="st"> </span><span class="kw">read_tsv</span>(<span class="st">&quot;https://goo.gl/gtaunr&quot;</span>)
<span class="kw">head</span>(datasaurus)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">dataset</th>
<th align="right">x</th>
<th align="right">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dino</td>
<td align="right">55.3846</td>
<td align="right">97.1795</td>
</tr>
<tr class="even">
<td align="left">dino</td>
<td align="right">51.5385</td>
<td align="right">96.0256</td>
</tr>
<tr class="odd">
<td align="left">dino</td>
<td align="right">46.1538</td>
<td align="right">94.4872</td>
</tr>
<tr class="even">
<td align="left">dino</td>
<td align="right">42.8205</td>
<td align="right">91.4103</td>
</tr>
<tr class="odd">
<td align="left">dino</td>
<td align="right">40.7692</td>
<td align="right">88.3333</td>
</tr>
<tr class="even">
<td align="left">dino</td>
<td align="right">38.7179</td>
<td align="right">84.8718</td>
</tr>
</tbody>
</table>
</div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-45-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">datasaurus %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(dataset) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_X =</span> <span class="kw">mean</span>(x),
            <span class="dt">mean_Y =</span> <span class="kw">mean</span>(y),
            <span class="dt">sd_X =</span> <span class="kw">sd</span>(x),
            <span class="dt">sd_Y =</span> <span class="kw">sd</span>(y),
            <span class="dt">cor =</span> <span class="kw">cor</span>(x, y),
            <span class="dt">n_obs =</span> <span class="kw">n</span>()) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(-dataset) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">round</span>(., <span class="dv">1</span>)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="right">mean_X</th>
<th align="right">mean_Y</th>
<th align="right">sd_X</th>
<th align="right">sd_Y</th>
<th align="right">cor</th>
<th align="right">n_obs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="even">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
<tr class="odd">
<td align="right">54.3</td>
<td align="right">47.8</td>
<td align="right">16.8</td>
<td align="right">26.9</td>
<td align="right">-0.1</td>
<td align="right">142</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="scaterplot" class="slide section level3">
<h1>6.1 Scaterplot</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-47-1.png" width="768" /></p>
<ul>
<li>ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> homo, <span class="kw">aes</span>(s.duration.ms, vowel.duration.ms)) +
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-48-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(average.f0.Hz, age))+
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)+
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> orientation))</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-49-1.png" width="768" /></p>
</div>
<div id="scaterplot-color" class="slide section level3">
<h1>6.1.1 Scaterplot: color</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>)[homo$orientation])</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-50-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms,
             <span class="dt">color =</span> orientation)) +
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-51-1.png" width="768" /></p>
</div>
<div id="scaterplot-shape" class="slide section level3">
<h1>6.1.2 Scaterplot: shape</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">pch =</span> <span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">17</span>)[homo$orientation])</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-52-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dv">1</span>:<span class="dv">25</span>, <span class="dt">pch =</span> <span class="dv">1</span>:<span class="dv">25</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-52-2.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms,
             <span class="dt">shape =</span> orientation)) +
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&quot;green&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-53-1.png" width="768" /></p>
</div>
<div id="scaterplot-size" class="slide section level3">
<h1>6.1.3 Scaterplot: size</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">cex =</span> homo$age/<span class="dv">20</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-54-1.png" width="768" /></p>
<ul>
<li>:(</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">cex =</span> homo$age)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-55-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms,
             <span class="dt">size =</span> age)) +
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-56-1.png" width="768" /></p>
</div>
<div id="scaterplot-text" class="slide section level3">
<h1>6.1.4 Scaterplot: text</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">pch =</span> <span class="kw">c</span>(<span class="st">&quot;⚤&quot;</span>, <span class="st">&quot;⚣&quot;</span>)[homo$orientation])</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-57-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(homo$orientation) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;⚣&quot;</span>, <span class="st">&quot;⚤&quot;</span>)
homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms, <span class="dt">label =</span> orientation, <span class="dt">fill =</span> orientation)) +
<span class="st">  </span><span class="kw">geom_label</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-58-1.png" width="768" /></p>
</div>
<div id="scaterplot-title" class="slide section level3">
<h1>6.1.5 Scaterplot: title</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">main =</span> <span class="st">&quot;length of [s] vs. length of vowels&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-60-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms)) +
<span class="st">  </span><span class="kw">geom_point</span>()+
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;length of [s] vs. length of vowels&quot;</span>,
       <span class="dt">subtitle =</span> <span class="st">&quot;based on 14 speakers of Cantonese&quot;</span>,
       <span class="dt">caption =</span> <span class="st">&quot;data from [Chi kuk 2007]&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-61-1.png" width="768" /></p>
</div>
<div id="scaterplot-axis" class="slide section level3">
<h1>6.1.6 Scaterplot: axis</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms,
     <span class="dt">xlab =</span> <span class="st">&quot;duration of [s] in ms&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;vowel duration in ms&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-62-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms)) +
<span class="st">  </span><span class="kw">geom_point</span>()+
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;duration of [s] in ms&quot;</span>)+
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;vowel duration in ms&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-63-1.png" width="768" /></p>
</div>
<div id="log-scales" class="slide section level3">
<h1>6.1.7 Log scales</h1>
<div class="figure">
<img src="https://pbs.twimg.com/media/CTxg970WwAApE98.png" />

</div>
<p>Lets use the frequency dictionary for Russian</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freq &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://goo.gl/TlX7xW&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)
freq %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(Freq.ipm.)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span>:<span class="dv">200</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(Rank, Freq.ipm.)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) +
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;ipm&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-64-1.png" width="768" /></p>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dv">1</span>:<span class="dv">52138</span>, freq$Freq.ipm.,
  <span class="dt">xlab =</span> <span class="ot">NA</span>, <span class="dt">ylab =</span> <span class="st">&quot;ipm&quot;</span>,
  <span class="dt">las =</span> <span class="dv">1</span>,
  <span class="dt">log =</span> <span class="st">&quot;yx&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-65-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freq %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dv">1</span>:<span class="dv">52138</span>, Freq.ipm.))+
<span class="st">  </span><span class="kw">geom_point</span>()+
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>)+
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;ipm&quot;</span>)+
<span class="st">  </span><span class="kw">scale_y_log10</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-66-1.png" width="768" /></p>
</div>
<div id="scaterplot-rug" class="slide section level3">
<h1>6.1.8 Scaterplot: rug</h1>
<ul>
<li>R base</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms)
<span class="kw">rug</span>(homo$s.duration.ms)
<span class="kw">rug</span>(homo$vowel.duration.ms, <span class="dt">side =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-67-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms, <span class="dt">color =</span> orientation)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_rug</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-68-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms, <span class="dt">color =</span> orientation)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_rug</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-69-1.png" width="768" /></p>
</div>
<div id="scaterplot-lines" class="slide section level3">
<h1>6.1.9 Scaterplot: lines</h1>
<ul>
<li>R base</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms)
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="dv">120</span>, <span class="dt">v =</span> <span class="dv">60</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-70-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="kw">mean</span>(homo$vowel.duration.ms))+
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">60</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-71-1.png" width="768" /></p>
<ul>
<li>R base</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms)
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="dv">120</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">60</span>, <span class="dt">lwd =</span> <span class="dv">42</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-72-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">120</span>, <span class="dt">linetype =</span> <span class="dv">2</span>)+
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">60</span>, <span class="dt">size =</span> <span class="dv">5</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-73-1.png" width="768" /></p>
<ul>
<li>R base</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(homo$s.duration.ms, homo$vowel.duration.ms)
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="dv">120</span>, <span class="dt">lty =</span> <span class="dv">4</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">60</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-74-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms, vowel.duration.ms)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">120</span>, <span class="dt">linetype =</span> <span class="dv">4</span>)+
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">60</span>, <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-75-1.png" width="768" /></p>
</div>
<div id="barplots-basics" class="slide section level3">
<h1>6.2.1 Barplots: basics</h1>
<p>There are two possible situations:</p>
<ul>
<li>not aggregate data</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(homo[, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">9</span>)])</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="left">orientation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="left">homo</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="left">homo</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="left">hetero</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="left">hetero</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="left">hetero</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="left">hetero</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>aggregate data</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(homo[, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>)])</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">speaker</th>
<th align="right">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">E</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">F</td>
<td align="right">33</td>
</tr>
</tbody>
</table>
</div>
<h4 id="not-aggregate-data">Not aggregate data</h4>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(<span class="kw">table</span>(homo$orientation))</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-78-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(orientation)) +
<span class="st">  </span><span class="kw">geom_bar</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-79-1.png" width="768" /></p>
<h4 id="aggregate-data">Aggregate data</h4>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(homo$age, <span class="dt">names.arg =</span> homo$speaker)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-80-1.png" width="768" /></p>
<ul>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, age)) +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-81-1.png" width="768" /></p>
</div>
<div id="barplots-color" class="slide section level3">
<h1>6.2.2 Barplots: color</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(homo$age, <span class="dt">names.arg =</span> homo$speaker,
  <span class="dt">col =</span> homo$orientation)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-82-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, age, <span class="dt">fill =</span> orientation)) +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-83-1.png" width="768" /></p>
</div>
<div id="boxplots-basics" class="slide section level3">
<h1>6.3.1 Boxplots: basics</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(homo$s.duration.ms~homo$orientation)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-84-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(orientation, s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_boxplot</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-85-1.png" width="768" /></p>
</div>
<div id="boxplots-points" class="slide section level3">
<h1>6.3.2 Boxplots: points</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(homo$s.duration.ms~homo$orientation)
<span class="kw">stripchart</span>(homo$s.duration.ms ~<span class="st"> </span>homo$orientation,
  <span class="dt">pch =</span> <span class="dv">1</span>, <span class="dt">vertical =</span> T, <span class="dt">add =</span> T)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-86-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(orientation, s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_boxplot</span>()+
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-87-1.png" width="768" /></p>
</div>
<div id="boxplots-jitter" class="slide section level3">
<h1>6.3.3 Boxplots: jitter</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(homo$s.duration.ms~homo$orientation)
<span class="kw">stripchart</span>(homo$s.duration.ms~homo$orientation,
  <span class="dt">pch =</span> <span class="dv">1</span>, <span class="dt">vertical =</span> T, <span class="dt">add =</span> T, <span class="dt">method =</span> <span class="st">&quot;jitter&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-88-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(orientation, s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_boxplot</span>() +
<span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.5</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-89-1.png" width="768" /></p>
</div>
<div id="boxplots-jitter-1" class="slide section level3">
<h1>6.3.3 Boxplots: jitter</h1>
<ul>
<li>base R There is a horrible package <em>vioplot</em></li>
<li>dplyr, ggplot2</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(orientation, s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_violin</span>() +
<span class="st">  </span><span class="kw">geom_jitter</span>()</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-90-1.png" width="768" /></p>
</div>
<div id="preliminary-summary-two-variables" class="slide section level3">
<h1>6. Preliminary summary: two variables</h1>
<ul>
<li>scaterplot: two quantitative varibles</li>
<li>barplot: nominal varible and one number</li>
<li>boxplot: nominal varible and quantitative varibles</li>
<li>jittered points or sized points: two nominal varibles</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">newvar =</span> mpg &gt;<span class="st"> </span><span class="dv">22</span>,
         <span class="dt">newvr =</span> mpg &lt;<span class="st"> </span><span class="dv">17</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(newvr, newvar, <span class="dt">color =</span> newvar))+
<span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.2</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-91-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">newvar =</span> mpg &gt;<span class="st"> </span><span class="dv">22</span>,
         <span class="dt">newvr =</span> mpg &lt;<span class="st"> </span><span class="dv">17</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(newvar, newvr) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">number =</span> <span class="kw">n</span>()) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(newvr, newvar, <span class="dt">label =</span> number))+
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> number, <span class="dt">color =</span> newvar))+
<span class="st">  </span><span class="kw">geom_text</span>()+
<span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">30</span>))+
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">size =</span> F)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-91-2.png" width="768" /></p>
</div>
<div id="histogram-basics" class="slide section level3">
<h1>6.6.1 Histogram: basics</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(homo$s.duration.ms)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-92-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_histogram</span>()</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-93-1.png" width="768" /> How many histogram bins do we need?</p>
<ul>
<li>[Sturgers 1926] <em>nclass.Sturges(adyghe$F1)</em></li>
<li>[Scott 1979] <em>nclass.scott(adyghe$F1)</em></li>
<li><p>[Freedman, Diaconis 1981] <em>nclass.FD(adyghe$F1)</em></p></li>
<li><p>base R</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(homo$s.duration.ms,
     <span class="dt">breaks =</span> <span class="kw">nclass.FD</span>(homo$s.duration.ms))</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-94-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="kw">nclass.FD</span>(homo$s.duration.ms))</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-95-1.png" width="768" /></p>
</div>
<div id="histogram-color" class="slide section level3">
<h1>6.6.2 Histogram: color</h1>
<ul>
<li>base R</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(homo$s.duration.ms, <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-96-1.png" width="768" /> * dplyr, ggplot2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(s.duration.ms)) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">fill =</span> <span class="st">&quot;lightblue&quot;</span>)</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-97-1.png" width="768" /></p>
</div>
<div id="facets" class="slide section level3">
<h1>6.7 Facets</h1>
<p>Facetization is the most powerful <code>ggplot2</code> tool that allow to split up your data by one or more variables and plot the subsets of data together.</p>
<h4 id="facet_wrap"><code>facet_wrap()</code></h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(~orientation)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-98-1.png" width="768" /></p>
<p>You can see that there are all speakers on both graph, but only certain speakers have dot value. It is because by default scales of facets are equal.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(~orientation, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-99-1.png" width="768" /></p>
<p>It is possible to make only one scale “free”:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(~orientation, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-100-1.png" width="768" /></p>
<h4 id="facet_grid"><code>facet_grid()</code></h4>
<p>It is possible to facet using more then one variable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">older_then_28 =</span> <span class="kw">ifelse</span>(age &gt;<span class="st"> </span><span class="dv">28</span>, <span class="st">&quot;older&quot;</span>, <span class="st">&quot;younger&quot;</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(older_then_28~orientation, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-101-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">older_then_28 =</span> <span class="kw">ifelse</span>(age &gt;<span class="st"> </span><span class="dv">28</span>, <span class="st">&quot;older&quot;</span>, <span class="st">&quot;younger&quot;</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_grid</span>(older_then_28~orientation, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-102-1.png" width="768" /></p>
<p>There is a nice argument <code>margins</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">older_then_28 =</span> <span class="kw">ifelse</span>(age &gt;<span class="st"> </span><span class="dv">28</span>, <span class="st">&quot;older&quot;</span>, <span class="st">&quot;younger&quot;</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_grid</span>(older_then_28~orientation, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>, <span class="dt">margins =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-103-1.png" width="768" /></p>
<p>Sometimes it is nice to put your data in all facets:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">homo %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(speaker, s.duration.ms))+
<span class="st">  </span><span class="co"># Add an additional geom without facetization variable!</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> homo[,-<span class="dv">9</span>], <span class="kw">aes</span>(speaker, s.duration.ms), <span class="dt">color =</span> <span class="st">&quot;grey&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(~orientation)</code></pre></div>
<p><img src="Lec_2_Data_manipulation_and_visualization_files/figure-slidy/unnamed-chunk-104-1.png" width="768" /></p>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
